{"ast":null,"code":"var _jsxFileName = \"/Users/tanishqsingh/Downloads/spotless hungry crocodile-react 2/src/views/login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport { getDatabase, ref, update } from 'firebase/database';\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport './login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const history = useHistory();\n  const [username, setUsername] = useState('');\n  const [pass, setPassword] = useState('');\n  const firebaseConfig = {\n    // Your Firebase config here\n  };\n  initializeApp(firebaseConfig);\n  const auth = getAuth();\n  const db = getDatabase();\n  const login = () => {\n    const email = username;\n    const password = pass;\n    if (!validate_email(email) || !validate_password(password)) {\n      return;\n    }\n    signInWithEmailAndPassword(auth, email, password).then(() => {\n      const user = auth.currentUser;\n      const db_ref = ref(db, \"users/\" + user.uid);\n      const user_data = {\n        last_login: Date.now()\n      };\n      update(db_ref, user_data);\n      history.push('/');\n    }).catch(error => {\n      const err_code = error.code;\n      console.log('Firebase Login Error:', err_code);\n      const error_message = error.message;\n      console.error('Firebase Login Error:', err_code, error_message, error);\n      alert(error_message);\n    });\n  };\n  const validate_email = email => {\n    const expression = /^[^@]+@\\w+(\\.\\w+)+\\w$/;\n    return expression.test(email);\n  };\n  const validate_password = password => {\n    return password.length >= 6;\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    login();\n    console.log('Login attempted:', username, pass);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"login-title\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"login-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"login-label\",\n        htmlFor: \"username\",\n        children: \"Username:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"login-input\",\n        type: \"text\",\n        id: \"username\",\n        value: username,\n        onChange: event => setUsername(event.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"login-label\",\n        htmlFor: \"password\",\n        children: \"Password:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"login-input\",\n        type: \"password\",\n        id: \"password\",\n        value: pass,\n        onChange: event => setPassword(event.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"login-button\",\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"bodySmall\",\n        children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          className: \"login-link\",\n          children: \"Register here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"Sfo8SOqBbZgh4iYgC2TJ7Tn//vg=\", false, function () {\n  return [useHistory];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useHistory","Link","getDatabase","ref","update","initializeApp","getAuth","signInWithEmailAndPassword","jsxDEV","_jsxDEV","Login","_s","history","username","setUsername","pass","setPassword","firebaseConfig","auth","db","login","email","password","validate_email","validate_password","then","user","currentUser","db_ref","uid","user_data","last_login","Date","now","push","catch","error","err_code","code","console","log","error_message","message","alert","expression","test","length","handleSubmit","event","preventDefault","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","value","onChange","target","required","to","_c","$RefreshReg$"],"sources":["/Users/tanishqsingh/Downloads/spotless hungry crocodile-react 2/src/views/login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport { getDatabase, ref, update } from 'firebase/database';\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport './login.css';\n\nconst Login = () => {\n  const history = useHistory();\n  const [username, setUsername] = useState('');\n  const [pass, setPassword] = useState('');\n\n  const firebaseConfig = {\n    // Your Firebase config here\n  };\n\n  initializeApp(firebaseConfig);\n  \n  const auth = getAuth();\n  const db = getDatabase();\n  \n  const login = () => {\n    const email = username;\n    const password = pass;\n    \n    if (!validate_email(email) || !validate_password(password)) {\n      return;\n    }\n    \n    signInWithEmailAndPassword(auth, email, password)\n      .then(() => {\n        const user = auth.currentUser;\n        const db_ref = ref(db, \"users/\" + user.uid);\n        const user_data = {\n          last_login: Date.now(),\n        };\n        update(db_ref, user_data);\n        history.push('/');\n      })\n      .catch((error) => {\n        const err_code = error.code;\n        console.log('Firebase Login Error:', err_code);\n        const error_message = error.message;\n        console.error('Firebase Login Error:', err_code, error_message, error);\n        alert(error_message);\n      });\n  };\n\n  const validate_email = (email) => {\n    const expression = /^[^@]+@\\w+(\\.\\w+)+\\w$/;\n    return expression.test(email);\n  };\n\n  const validate_password = (password) => {\n    return password.length >= 6;\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    login();\n    console.log('Login attempted:', username, pass);\n  };\n\n  return (\n    <div className=\"login-container\">\n      <h1 className=\"login-title\">Login</h1>\n      <form className=\"login-form\" onSubmit={handleSubmit}>\n        <label className=\"login-label\" htmlFor=\"username\">\n          Username:\n        </label>\n        <input\n          className=\"login-input\"\n          type=\"text\"\n          id=\"username\"\n          value={username}\n          onChange={(event) => setUsername(event.target.value)}\n          required\n        />\n        <label className=\"login-label\" htmlFor=\"password\">\n          Password:\n        </label>\n        <input\n          className=\"login-input\"\n          type=\"password\"\n          id=\"password\"\n          value={pass}\n          onChange={(event) => setPassword(event.target.value)}\n          required\n        />\n        <button className=\"login-button\" type=\"submit\">\n          Login\n        </button>\n      </form>\n      <div className=\"login-footer\">\n        <span className=\"bodySmall\">\n          Don't have an account? <Link to=\"/register\" className=\"login-link\">Register here</Link>\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,UAAU,EAAEC,IAAI,QAAQ,kBAAkB;AACnD,SAASC,WAAW,EAAEC,GAAG,EAAEC,MAAM,QAAQ,mBAAmB;AAC5D,SAASC,aAAa,QAAQ,cAAc;AAC5C,SAASC,OAAO,EAAEC,0BAA0B,QAAQ,eAAe;AACnE,OAAO,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErB,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAMC,OAAO,GAAGZ,UAAU,CAAC,CAAC;EAC5B,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACgB,IAAI,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAExC,MAAMkB,cAAc,GAAG;IACrB;EAAA,CACD;EAEDZ,aAAa,CAACY,cAAc,CAAC;EAE7B,MAAMC,IAAI,GAAGZ,OAAO,CAAC,CAAC;EACtB,MAAMa,EAAE,GAAGjB,WAAW,CAAC,CAAC;EAExB,MAAMkB,KAAK,GAAGA,CAAA,KAAM;IAClB,MAAMC,KAAK,GAAGR,QAAQ;IACtB,MAAMS,QAAQ,GAAGP,IAAI;IAErB,IAAI,CAACQ,cAAc,CAACF,KAAK,CAAC,IAAI,CAACG,iBAAiB,CAACF,QAAQ,CAAC,EAAE;MAC1D;IACF;IAEAf,0BAA0B,CAACW,IAAI,EAAEG,KAAK,EAAEC,QAAQ,CAAC,CAC9CG,IAAI,CAAC,MAAM;MACV,MAAMC,IAAI,GAAGR,IAAI,CAACS,WAAW;MAC7B,MAAMC,MAAM,GAAGzB,GAAG,CAACgB,EAAE,EAAE,QAAQ,GAAGO,IAAI,CAACG,GAAG,CAAC;MAC3C,MAAMC,SAAS,GAAG;QAChBC,UAAU,EAAEC,IAAI,CAACC,GAAG,CAAC;MACvB,CAAC;MACD7B,MAAM,CAACwB,MAAM,EAAEE,SAAS,CAAC;MACzBlB,OAAO,CAACsB,IAAI,CAAC,GAAG,CAAC;IACnB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChB,MAAMC,QAAQ,GAAGD,KAAK,CAACE,IAAI;MAC3BC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEH,QAAQ,CAAC;MAC9C,MAAMI,aAAa,GAAGL,KAAK,CAACM,OAAO;MACnCH,OAAO,CAACH,KAAK,CAAC,uBAAuB,EAAEC,QAAQ,EAAEI,aAAa,EAAEL,KAAK,CAAC;MACtEO,KAAK,CAACF,aAAa,CAAC;IACtB,CAAC,CAAC;EACN,CAAC;EAED,MAAMlB,cAAc,GAAIF,KAAK,IAAK;IAChC,MAAMuB,UAAU,GAAG,uBAAuB;IAC1C,OAAOA,UAAU,CAACC,IAAI,CAACxB,KAAK,CAAC;EAC/B,CAAC;EAED,MAAMG,iBAAiB,GAAIF,QAAQ,IAAK;IACtC,OAAOA,QAAQ,CAACwB,MAAM,IAAI,CAAC;EAC7B,CAAC;EAED,MAAMC,YAAY,GAAIC,KAAK,IAAK;IAC9BA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtB7B,KAAK,CAAC,CAAC;IACPmB,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAE3B,QAAQ,EAAEE,IAAI,CAAC;EACjD,CAAC;EAED,oBACEN,OAAA;IAAKyC,SAAS,EAAC,iBAAiB;IAAAC,QAAA,gBAC9B1C,OAAA;MAAIyC,SAAS,EAAC,aAAa;MAAAC,QAAA,EAAC;IAAK;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACtC9C,OAAA;MAAMyC,SAAS,EAAC,YAAY;MAACM,QAAQ,EAAET,YAAa;MAAAI,QAAA,gBAClD1C,OAAA;QAAOyC,SAAS,EAAC,aAAa;QAACO,OAAO,EAAC,UAAU;QAAAN,QAAA,EAAC;MAElD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR9C,OAAA;QACEyC,SAAS,EAAC,aAAa;QACvBQ,IAAI,EAAC,MAAM;QACXC,EAAE,EAAC,UAAU;QACbC,KAAK,EAAE/C,QAAS;QAChBgD,QAAQ,EAAGb,KAAK,IAAKlC,WAAW,CAACkC,KAAK,CAACc,MAAM,CAACF,KAAK,CAAE;QACrDG,QAAQ;MAAA;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACF9C,OAAA;QAAOyC,SAAS,EAAC,aAAa;QAACO,OAAO,EAAC,UAAU;QAAAN,QAAA,EAAC;MAElD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR9C,OAAA;QACEyC,SAAS,EAAC,aAAa;QACvBQ,IAAI,EAAC,UAAU;QACfC,EAAE,EAAC,UAAU;QACbC,KAAK,EAAE7C,IAAK;QACZ8C,QAAQ,EAAGb,KAAK,IAAKhC,WAAW,CAACgC,KAAK,CAACc,MAAM,CAACF,KAAK,CAAE;QACrDG,QAAQ;MAAA;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACF9C,OAAA;QAAQyC,SAAS,EAAC,cAAc;QAACQ,IAAI,EAAC,QAAQ;QAAAP,QAAA,EAAC;MAE/C;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eACP9C,OAAA;MAAKyC,SAAS,EAAC,cAAc;MAAAC,QAAA,eAC3B1C,OAAA;QAAMyC,SAAS,EAAC,WAAW;QAAAC,QAAA,GAAC,yBACH,eAAA1C,OAAA,CAACR,IAAI;UAAC+D,EAAE,EAAC,WAAW;UAACd,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAC;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC5C,EAAA,CA7FID,KAAK;EAAA,QACOV,UAAU;AAAA;AAAAiE,EAAA,GADtBvD,KAAK;AA+FX,eAAeA,KAAK;AAAC,IAAAuD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}