{"ast":null,"code":"var _jsxFileName = \"/Users/tanishqsingh/Downloads/spotless hungry crocodile-react 2/src/views/login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { getDatabase, ref, update } from 'firebase/database';\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport './login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const history = useHistory();\n  const [username, setUsername] = useState('');\n  const [pass, setPassword] = useState('');\n  const firebaseConfig = {\n    apiKey: \"AIzaSyCnYIMX6LlqF1IA16rnb_UQclXFzl-JeD8\",\n    authDomain: \"e-tender-755ed.firebaseapp.com\",\n    projectId: \"e-tender-755ed\",\n    storageBucket: \"e-tender-755ed.appspot.com\",\n    messagingSenderId: \"225849465234\",\n    appId: \"1:225849465234:web:5aa536dae9847bfd52094b\",\n    measurementId: \"G-5YQX8FCFC4\"\n  };\n  initializeApp(firebaseConfig);\n  const auth = getAuth();\n  const db = getDatabase();\n  const login = () => {\n    const email = username;\n    const password = pass;\n    if (!validate_email(email) || !validate_password(password)) {\n      return;\n    }\n    signInWithEmailAndPassword(auth, email, password).then(() => {\n      const user = auth.currentUser;\n      const db_ref = ref(db, \"users/\" + user.uid);\n      const user_data = {\n        last_login: Date.now()\n      };\n      update(db_ref, user_data);\n      history.push('/');\n    }).catch(error => {\n      const err_code = error.code;\n      console.log('Firebase Login Error:', err_code);\n      const error_message = error.message;\n      console.error('Firebase Login Error:', err_code, error_message, error);\n      alert(error_message);\n    });\n  };\n  const validate_email = email => {\n    const expression = /^[^@]+@\\w+(\\.\\w+)+\\w$/;\n    return expression.test(email);\n  };\n  const validate_password = password => {\n    return password.length >= 6;\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    login();\n    console.log('Login attempted:', username, pass);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"login-title\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"login-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"login-label\",\n        htmlFor: \"username\",\n        children: \"Username:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"login-input\",\n        type: \"text\",\n        id: \"username\",\n        value: username,\n        onChange: event => setUsername(event.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"login-label\",\n        htmlFor: \"password\",\n        children: \"Password:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"login-input\",\n        type: \"password\",\n        id: \"password\",\n        value: pass,\n        onChange: event => setPassword(event.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"login-button\",\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"Sfo8SOqBbZgh4iYgC2TJ7Tn//vg=\", false, function () {\n  return [useHistory];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useHistory","getDatabase","ref","update","initializeApp","getAuth","signInWithEmailAndPassword","jsxDEV","_jsxDEV","Login","_s","history","username","setUsername","pass","setPassword","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","login","email","password","validate_email","validate_password","then","user","currentUser","db_ref","uid","user_data","last_login","Date","now","push","catch","error","err_code","code","console","log","error_message","message","alert","expression","test","length","handleSubmit","event","preventDefault","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","value","onChange","target","required","_c","$RefreshReg$"],"sources":["/Users/tanishqsingh/Downloads/spotless hungry crocodile-react 2/src/views/login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { getDatabase, ref, update } from 'firebase/database';\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport './login.css';\n\nconst Login = () => {\n  const history=useHistory();\n  const [username, setUsername] = useState('');\n  const [pass, setPassword] = useState('');\n\n  const firebaseConfig = {\n    apiKey: \"AIzaSyCnYIMX6LlqF1IA16rnb_UQclXFzl-JeD8\",\n    authDomain: \"e-tender-755ed.firebaseapp.com\",\n    projectId: \"e-tender-755ed\",\n    storageBucket: \"e-tender-755ed.appspot.com\",\n    messagingSenderId: \"225849465234\",\n    appId: \"1:225849465234:web:5aa536dae9847bfd52094b\",\n    measurementId: \"G-5YQX8FCFC4\"\n  };\n\n  initializeApp(firebaseConfig);\n  \n  const auth = getAuth();\n  const db = getDatabase();\n  \n  const login = () => {\n    const email = username;\n    const password = pass;\n    \n    if (!validate_email(email) || !validate_password(password)) {\n      return;\n    }\n    \n    signInWithEmailAndPassword(auth, email, password)\n      .then(() => {\n        const user = auth.currentUser;\n        const db_ref = ref(db, \"users/\" + user.uid);\n        const user_data = {\n          last_login: Date.now(),\n        };\n        update(db_ref, user_data);\n        history.push('/');\n    })\n      .catch((error) => {\n        const err_code = error.code;\n        console.log('Firebase Login Error:', err_code);\n        const error_message = error.message;\n        console.error('Firebase Login Error:', err_code, error_message,error);\n        alert(error_message);\n      });\n  };\n\n  const validate_email = (email) => {\n    const expression = /^[^@]+@\\w+(\\.\\w+)+\\w$/;\n    return expression.test(email);\n  };\n\n  const validate_password = (password) => {\n    return password.length >= 6;\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    login();\n    console.log('Login attempted:', username, pass);\n  };\n\n  return (\n    <div className=\"login-container\">\n      <h1 className=\"login-title\">Login</h1>\n      <form className=\"login-form\" onSubmit={handleSubmit}>\n        <label className=\"login-label\" htmlFor=\"username\">\n          Username:\n        </label>\n        <input\n          className=\"login-input\"\n          type=\"text\"\n          id=\"username\"\n          value={username}\n          onChange={(event) => setUsername(event.target.value)}\n          required\n        />\n        <label className=\"login-label\" htmlFor=\"password\">\n          Password:\n        </label>\n        <input\n          className=\"login-input\"\n          type=\"password\"\n          id=\"password\"\n          value={pass}\n          onChange={(event) => setPassword(event.target.value)}\n          required\n        />\n        <button className=\"login-button\" type=\"submit\">\n          Login\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}